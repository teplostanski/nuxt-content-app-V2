import{n as h,c as u,a as r,u as s,o as d}from"./entry.CLbADZtv.js";function p(){return{authenticateWithGitHub:()=>{const i="https://github.com/login/oauth/authorize?client_id=6b23ac4984f4163d5509&redirect_uri=https://blog.teplostanski.dev/&scope=repo&response_type=token";window.location.href=i},handleGitHubCallback:()=>{const c=new URLSearchParams(window.location.search).get("code");if(!c){console.error("Authorization code not found");return}fetch("https://github.com/login/oauth/access_token",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({client_id:"6b23ac4984f4163d5509",client_secret:"c41cd92f37d42c29a4b9cc6e779c2c086a0f382d",code:c,redirect_uri:"https://blog.teplostanski.dev/"})}).then(t=>t.json()).then(t=>{const a=t.access_token;console.log("Access Token:",a),fetch("https://api.github.com/repos/teplostanski/uncrunch",{headers:{Authorization:`token ${a}`}}).then(e=>e.json()).then(e=>{console.log("Repository Data:",e)}).catch(e=>{console.error("Failed to fetch repository data:",e)})}).catch(t=>{console.error("Failed to get GitHub access token:",t)})}}}const b=r("h1",null,"Welcome to My App",-1),_={__name:"index",setup(l){const o=p();return h(()=>{o.handleGitHubCallback()}),(c,n)=>(d(),u("div",null,[b,r("button",{onClick:n[0]||(n[0]=(...i)=>s(o).authenticateWithGitHub&&s(o).authenticateWithGitHub(...i))},"Authenticate with GitHub")]))}};export{_ as default};
