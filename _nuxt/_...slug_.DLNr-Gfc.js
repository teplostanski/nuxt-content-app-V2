import O from"./ContentDoc.CFf-vw4E.js";import{f as P,g as l,h as T,r as A,i as I,u as R,j as S,k as U,l as V,m as z,o as _,c as f,a,t as p,F as D,n as G,q as H,b as $,w as L,d as x,_ as K,P as F}from"./entry.STDnmh5k.js";import{_ as M}from"./nuxt-link.Nbh5IPXR.js";import{q as J}from"./query.DDgTNq3K.js";import{u as Q}from"./locale.ClYQK7cA.js";import"./vue.f36acd1f.Bsn2YZB-.js";import"./ContentRenderer.e6t82Nf6.js";import"./ContentRendererMarkdown.vue.CbI04dnC.js";import"./index.BsYmvPZw.js";import"./preview.DDeyrhSE.js";import"./ContentQuery.zJvXfCbr.js";function W(n,t,r){const[e={},u]=typeof t=="string"?[{},t]:[t,r],o=P(()=>{let i=n;return typeof i=="function"&&(i=i()),l(i)}),s=e.key||T([u,typeof o.value=="string"?o.value:"",...X(e)]);if(!s||typeof s!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+s);if(!n)throw new Error("[nuxt] [useFetch] request is missing.");const h=s===u?"$f"+s:s;if(!e.baseURL&&typeof o.value=="string"&&o.value[0]==="/"&&o.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:g,lazy:m,default:y,transform:v,pick:b,watch:d,immediate:w,getCachedData:q,deep:B,dedupe:E,...j}=e,k=A({...I,...j,cache:typeof e.cache=="boolean"?void 0:e.cache}),N={server:g,lazy:m,default:y,transform:v,pick:b,immediate:w,getCachedData:q,deep:B,dedupe:E,watch:d===!1?[]:[k,o,...d||[]]};let c;return R(h,()=>{var C;(C=c==null?void 0:c.abort)==null||C.call(c),c=typeof AbortController<"u"?new AbortController:{};const i=l(e.timeout);return i&&setTimeout(()=>c.abort(),i),(e.$fetch||globalThis.$fetch)(o.value,{signal:c.signal,...k})},N)}function X(n){var r;const t=[((r=l(n.method))==null?void 0:r.toUpperCase())||"GET",l(n.baseURL)];for(const e of[n.params||n.query]){const u=l(e);if(!u)continue;const o={};for(const[s,h]of Object.entries(u))o[l(s)]=l(h);t.push(o)}return t}const Y=["src"],Z={class:"cardItem"},tt={class:"cardDesc"},et={class:"lang"},ot=S({__name:"BlogPosts",async setup(n){let t,r;Q();const{locale:e}=U(),{data:u,refresh:o}=([t,r]=V(()=>W(()=>J("/blog").where({lang:e.value}).sort({date:-1}).find(),"$bMkErHolNh")),t=await t,r(),t);return z(()=>e.value,()=>{o()}),(s,h)=>{const g=M;return _(),f(D,null,[a("h1",null,p(s.$t("title")),1),a("h2",null,p(s.$t("hello",{name:"vue-i18n"})),1),a("ul",null,[(_(!0),f(D,null,G(H(u),({_path:m,title:y,date:v,cover:b,description:d,lang:w})=>(_(),f("li",{class:"card",key:m},[a("img",{class:"cardImg",src:b,alt:"f"},null,8,Y),a("div",Z,[$(g,{to:m},{default:L(()=>[x(p(y),1)]),_:2},1032,["to"]),a("div",tt,p(d),1),a("span",null,p(v),1),x(),a("span",et,p(w),1)])]))),128))])],64)}}}),st=K(ot,[["__scopeId","data-v-9c469d5f"]]),nt={key:0},at={key:1},rt=a("h2",null,"Blog post not found",-1),bt={__name:"[...slug]",setup(n){return(t,r)=>{const e=O;return _(),f("div",null,[(t._.provides[F]||t.$route).params.slug?(_(),f("div",at,[$(e,{path:"/blog/"+(t._.provides[F]||t.$route).params.slug.join("/")},{"not-found":L(()=>[rt]),_:1},8,["path"])])):(_(),f("div",nt,[$(st)]))])}}};export{bt as default};
